
// ****************************************************************************
// * iniHisto
// ****************************************************************************
void iniHisto(void) @ -5.0 {
  const ‚Ñù binMaxf=(‚Ñù)binMax;
  info()<<"[7;37m[iniHisto][m";
  //info()<<"binMaxf="<<binMaxf;
  for(int i=0;i<binMax;i+=1){
    const ‚Ñù ir=(‚Ñù)i;
    const ‚Ñù Œòbinmax = 4.0*‚àö(4.0*option_ŒΩŒ¥t); // 4.0 * la vitesse thermique (arbitraire)
    histo[i]=0.0;
    Œòbinning[i]=Œòbinmax*ir/binMaxf;
    //info()<<"binning["<<i<<"]="<<Œòbinning[i]<<", ir="<<ir;
  }      
}


// ****************************************************************************
// * diagnosticSpectrum
// ****************************************************************************
void diagnosticSpectrum(‚Ñù Œ∏){
  ‚Ñï j=0;
  while(Œ∏>Œòbinning[j]){
    j+=1;
    if (j==binMax) return;
  }
  histo[j]+=1;
}


// ****************************************************************************
// * diagnosticSpectrum
// ****************************************************************************
void dumpSpectrum(void){
  ‚Ñù sum=0.0;
  for(int i=0;i<binMax;i+=1)
    sum+=histo[i];
  for(int i=0;i<binMax-1;i+=1){
    const ‚Ñù value = histo[i]/sum;
    const ‚Ñù x = ¬Ω*(Œòbinning[i]+Œòbinning[i+1]);
    const ‚Ñù y = value/(Œòbinning[i+1]-Œòbinning[i]);
    printf(" %f",y);
    histoData << "\t" << x << "\t" << y;
  }
  printf("\n[7m[tstForQuit] Sum=%f[m\n\r",sum);
  //assert(sum==(‚Ñù)NABLA_NB_PARTICLES);
}
